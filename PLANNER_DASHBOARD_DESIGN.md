# プランナー専用管理ダッシュボード 設計書

## ファイル構成案

```
app/
├── admin/                          # 管理画面ルート
│   ├── layout.tsx                  # 管理画面専用レイアウト（サイドバー、ヘッダー）
│   ├── page.tsx                    # ダッシュボード（ファーストビュー）
│   ├── guests/                     # ゲスト管理
│   │   ├── page.tsx               # ゲスト一覧（データグリッド）
│   │   └── [id]/page.tsx          # ゲスト詳細・編集
│   ├── seating/                    # 配席管理
│   │   ├── page.tsx               # 配席エディタ（ドラッグ&ドロップ）
│   │   └── print/page.tsx         # 席次表印刷プレビュー
│   ├── allergies/                  # アレルギー管理
│   │   ├── page.tsx               # アレルギー一覧
│   │   └── print/page.tsx         # アレルギー一覧印刷プレビュー
│   └── settings/                   # 設定
│       ├── page.tsx               # 挙式設定
│       └── lock/page.tsx          # データ確定（ロック）管理
│
components/
├── admin/
│   ├── Dashboard/
│   │   ├── TaskCards.tsx          # タスクカード（未対応件数表示）
│   │   ├── DiffIndicator.tsx      # 差分表示（前回ログインからの変更）
│   │   └── QuickActions.tsx       # クイックアクション
│   ├── DataGrid/
│   │   ├── GuestTable.tsx         # ゲストテーブル（TanStack Table）
│   │   ├── TableToolbar.tsx       # テーブルツールバー（検索・フィルタ）
│   │   └── StatusBadge.tsx        # ステータスバッジ
│   ├── Seating/
│   │   ├── SeatPlan.tsx           # 座席表（ドラッグ&ドロップ）
│   │   └── SeatCard.tsx           # 座席カード
│   ├── Print/
│   │   ├── PrintPreview.tsx       # 印刷プレビューコンテナ
│   │   ├── SeatingChart.tsx       # 席次表（印刷用）
│   │   └── AllergyList.tsx        # アレルギー一覧（印刷用）
│   └── Common/
│       ├── Sidebar.tsx            # サイドバー
│       ├── Header.tsx             # ヘッダー
│       └── Toast.tsx              # Toast通知
│
lib/
├── swr/                            # SWR設定
│   └── fetcher.ts
├── utils/
│   ├── diff.ts                    # 差分検出ロジック
│   └── print.ts                   # 印刷ユーティリティ
└── types/
    └── admin.ts                   # 管理画面用型定義
```

## レイアウト構成（Wireframe）

### ダッシュボード ファーストビュー

```
┌─────────────────────────────────────────────────────────────┐
│ [ヘッダー]                           [ログアウト] [設定]     │
├─────┬───────────────────────────────────────────────────────┤
│     │ [Diff Indicator] "前回ログイン: 2時間前 | 変更: 5件"  │
│     │                                                         │
│  S  │ [タスクカード グリッド]                                 │
│  I  │ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐ │
│  D  │ │未確定  │ │ │未回答  │ │ │アレルギー│ │ │確定待ち│ │
│  E  │ │ゲスト   │ │ │アンケート│ │ │未確認  │ │ │配席    │ │
│     │ │   12   │ │ │    8   │ │ │    3   │ │ │    1   │ │
│  B  │ │ [確認] │ │ │ [確認] │ │ │ [確認] │ │ │ [確認] │ │
│  A  │ └──────────┘ └──────────┘ └──────────┘ └──────────┘ │
│  R  │                                                         │
│     │ [クイックアクション]                                   │
│     │ [配席編集] [印刷プレビュー] [データ確定]                │
│     │                                                         │
│     │ [最近の変更（Diff表示）]                               │
│     │ • 新規ゲスト追加: 田中 花子 (2時間前) [NEW]            │
│     │ • アレルギー更新: 佐藤 太郎 (1時間前) [NEW]            │
│     │ • 配席変更: テーブルA → テーブルB (30分前)            │
└─────┴───────────────────────────────────────────────────────┘
```

### ゲスト管理ページ（データグリッド）

```
┌─────────────────────────────────────────────────────────────┐
│ [ゲスト管理]                    [検索] [フィルタ] [エクスポート]│
├─────────────────────────────────────────────────────────────┤
│ [クイックフィルタ] 未回答 | アレルギーあり | バス利用        │
├─────────────────────────────────────────────────────────────┤
│ ID | 名前 | テーブル | 回答状況 | アレルギー | 状態 | アクション│
│────┼──────┼─────────┼─────────┼──────────┼──────┼─────────│
│ 1  | 田中 | テーブルA| 完了    | なし     | 確定 | [編集]  │
│ 2  | 佐藤 | テーブルB| 未回答  | ナッツ   | 未確定| [編集]  │
│    |      |         | [NEW]   | [NEW]    |      |         │
│ ...                                                        │
├─────────────────────────────────────────────────────────────┤
│ [ページネーション] 1 2 3 ... 10                            │
└─────────────────────────────────────────────────────────────┘
```

## コンポーネント設計（Atomic Design）

### Atoms（最小単位）
- Button, Input, Badge, Icon

### Molecules（組み合わせ）
- TaskCard, DiffBadge, StatusBadge, SearchBox, FilterChip

### Organisms（複合コンポーネント）
- DataGrid (GuestTable), TaskDashboard, DiffPanel, Sidebar, Header

### Templates（レイアウト）
- AdminLayout, DashboardLayout, PrintLayout

### Pages（画面）
- DashboardPage, GuestListPage, SeatingPage, PrintPreviewPage
