# Next.js App Router ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ”¹å–„æ¡ˆ

## ğŸ“Š ç¾çŠ¶åˆ†æ

### ç™ºè¦‹ã•ã‚ŒãŸå•é¡Œç‚¹

#### 1. **å†—é•·ãªãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€**
- âŒ `app/gallery/page.tsx` ãŒ `/guest/gallery` ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã—ã¦ã„ã‚‹ã ã‘
- ä¸è¦ãªä¸­é–“å±¤ã§ã€URLè¨­è¨ˆã‚’è¤‡é›‘åŒ–ã—ã¦ã„ã‚‹

#### 2. **ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã®åˆ†æ•£**
- âŒ `app/page.tsx` - ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒ‰ãƒŸãƒ³ç”¨ãƒ­ã‚°ã‚¤ãƒ³ï¼ˆ`/admin`ã¸é·ç§»ï¼‰
- âŒ `app/venue/login/page.tsx` - ä¼šå ´ç®¡ç†è€…ç”¨ãƒ­ã‚°ã‚¤ãƒ³ï¼ˆ`/dashboard/[venueId]`ã¸é·ç§»ï¼‰
- èªè¨¼ãƒ«ãƒ¼ãƒˆãŒç›´æ„Ÿçš„ã§ãªã„ï¼ˆ`/venue/login` ã¯ä¸è‡ªç„¶ï¼‰

#### 3. **Route Groupsæœªä½¿ç”¨**
- âŒ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®è²¬å‹™åˆ†é›¢ãŒä¸ååˆ†
- `app/dashboard/layout.tsx` ã¯ç©ºå®Ÿè£…ï¼ˆ`<>{children}</>`ï¼‰
- `app/admin/layout.tsx` ã‚‚æœ€å°é™ã®å®Ÿè£…
- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®éšå±¤ãŒæ˜ç¢ºã§ãªã„

#### 4. **URLè¨­è¨ˆã®éåŠ¹ç‡**
- âš ï¸ ã‚²ã‚¹ãƒˆç”¨URLãŒé•·ã„ï¼ˆ`/guest/gallery`, `/guest/survey`ï¼‰
- ã‚²ã‚¹ãƒˆã¯æœ€ã‚‚é »ç¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ãªã®ã«ã€URLãŒå†—é•·

#### 5. **dashboardæ§‹é€ ã®è¤‡é›‘ã•**
- âš ï¸ `app/dashboard/[venueId]/` ã¨ `app/dashboard/` ãŒæ··åœ¨
- ä¼šå ´åˆ¥ã¨ã‚°ãƒ­ãƒ¼ãƒãƒ«ã®å¢ƒç•ŒãŒä¸æ˜ç¢º

#### 6. **Next.js 15ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹é•å**
- âŒ Route Groups `(auth)`, `(admin)`, `(guest)` ã‚’æ´»ç”¨ã—ã¦ã„ãªã„
- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®éšå±¤åŒ–ãŒä¸ååˆ†

---

## ğŸ¯ æ”¹å–„æ¡ˆ

### Beforeï¼ˆç¾çŠ¶ï¼‰

```
app/
â”œâ”€â”€ page.tsx                    # ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒ‰ãƒŸãƒ³ç”¨ãƒ­ã‚°ã‚¤ãƒ³ï¼ˆ/ï¼‰
â”œâ”€â”€ layout.tsx                  # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”œâ”€â”€ globals.css
â”‚
â”œâ”€â”€ admin/                      # ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒ‰ãƒŸãƒ³
â”‚   â”œâ”€â”€ layout.tsx              # æœ€å°é™ã®å®Ÿè£…
â”‚   â””â”€â”€ page.tsx
â”‚
â”œâ”€â”€ dashboard/                  # ä¼šå ´ç®¡ç†è€…
â”‚   â”œâ”€â”€ layout.tsx              # ç©ºå®Ÿè£…ï¼ˆ<>{children}</>ï¼‰
â”‚   â”œâ”€â”€ page.tsx                # /dashboard ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
â”‚   â”‚
â”‚   â”œâ”€â”€ [venueId]/              # ä¼šå ´åˆ¥ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ layout.tsx          # ã‚µã‚¤ãƒ‰ãƒãƒ¼ä»˜ããƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ weddings/
â”‚   â”‚   â”œâ”€â”€ venues/
â”‚   â”‚   â”œâ”€â”€ accounts/
â”‚   â”‚   â”œâ”€â”€ notifications/
â”‚   â”‚   â””â”€â”€ settings/
â”‚   â”‚
â”‚   â”œâ”€â”€ weddings/               # ã‚°ãƒ­ãƒ¼ãƒãƒ«ï¼ˆæœªä½¿ç”¨ï¼Ÿï¼‰
â”‚   â”œâ”€â”€ venues/
â”‚   â”œâ”€â”€ accounts/
â”‚   â”œâ”€â”€ notifications/
â”‚   â””â”€â”€ settings/
â”‚
â”œâ”€â”€ guest/                      # ã‚²ã‚¹ãƒˆç”»é¢
â”‚   â”œâ”€â”€ page.tsx                # ã‚²ã‚¹ãƒˆãƒãƒ¼ã‚¿ãƒ«
â”‚   â”œâ”€â”€ gallery/
â”‚   â”‚   â””â”€â”€ page.tsx            # /guest/gallery
â”‚   â””â”€â”€ survey/
â”‚       â””â”€â”€ page.tsx            # /guest/survey
â”‚
â”œâ”€â”€ gallery/                    # âŒ å†—é•·ï¼ˆãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆå°‚ç”¨ï¼‰
â”‚   â””â”€â”€ page.tsx                # /guest/gallery ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
â”‚
â””â”€â”€ venue/                      # âŒ ä¸è‡ªç„¶ãªãƒ‘ã‚¹
    â””â”€â”€ login/
        â””â”€â”€ page.tsx            # /venue/login
```

### Afterï¼ˆæ”¹å–„æ¡ˆï¼‰

```
app/
â”œâ”€â”€ layout.tsx                  # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«ã€Toasterï¼‰
â”œâ”€â”€ globals.css
â”‚
â”œâ”€â”€ (auth)/                     # ğŸ”¥ Route Group: èªè¨¼é–¢é€£
â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”œâ”€â”€ page.tsx            # /loginï¼ˆçµ±åˆãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ï¼‰
â”‚   â”‚   â””â”€â”€ admin/
â”‚   â”‚       â””â”€â”€ page.tsx        # /login/adminï¼ˆã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒ‰ãƒŸãƒ³ç”¨ï¼‰
â”‚   â””â”€â”€ venue/
â”‚       â””â”€â”€ page.tsx            # /login/venueï¼ˆä¼šå ´ç®¡ç†è€…ç”¨ï¼‰
â”‚
â”œâ”€â”€ (admin)/                    # ğŸ”¥ Route Group: ç®¡ç†ç”»é¢ï¼ˆèªè¨¼å¿…é ˆï¼‰
â”‚   â”œâ”€â”€ layout.tsx              # ç®¡ç†ç”»é¢å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆèªè¨¼ãƒã‚§ãƒƒã‚¯ã€ãƒ˜ãƒƒãƒ€ãƒ¼ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ admin/                  # ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒ‰ãƒŸãƒ³
â”‚   â”‚   â”œâ”€â”€ layout.tsx          # ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒ‰ãƒŸãƒ³å°‚ç”¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼‰
â”‚   â”‚   â””â”€â”€ page.tsx            # /admin
â”‚   â”‚
â”‚   â””â”€â”€ dashboard/              # ä¼šå ´ç®¡ç†è€…
â”‚       â”œâ”€â”€ [venueId]/          # ä¼šå ´åˆ¥ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚       â”‚   â”œâ”€â”€ layout.tsx      # ä¼šå ´åˆ¥ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼‰
â”‚       â”‚   â”œâ”€â”€ page.tsx        # /dashboard/[venueId]
â”‚       â”‚   â”œâ”€â”€ weddings/
â”‚       â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚       â”‚   â”‚   â””â”€â”€ [id]/
â”‚       â”‚   â”‚       â””â”€â”€ page.tsx
â”‚       â”‚   â”œâ”€â”€ venues/
â”‚       â”‚   â”œâ”€â”€ accounts/
â”‚       â”‚   â”œâ”€â”€ notifications/
â”‚       â”‚   â””â”€â”€ settings/
â”‚       â”‚
â”‚       â””â”€â”€ page.tsx            # /dashboardï¼ˆä¼šå ´é¸æŠã¾ãŸã¯ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆï¼‰
â”‚
â”œâ”€â”€ (guest)/                    # ğŸ”¥ Route Group: ã‚²ã‚¹ãƒˆç”»é¢ï¼ˆå…¬é–‹ï¼‰
â”‚   â”œâ”€â”€ layout.tsx              # ã‚²ã‚¹ãƒˆç”¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆã‚·ãƒ³ãƒ—ãƒ«ã€èªè¨¼ä¸è¦ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ page.tsx                # /ï¼ˆã‚²ã‚¹ãƒˆãƒãƒ¼ã‚¿ãƒ«ï¼šæŒ™å¼é¸æŠãƒ»ãƒ‘ã‚¹ã‚³ãƒ¼ãƒ‰å…¥åŠ›ï¼‰
â”‚   â”œâ”€â”€ gallery/                 # âœ… çŸ­ç¸®: /galleryï¼ˆ/guest/gallery â†’ /galleryï¼‰
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â””â”€â”€ survey/                 # âœ… çŸ­ç¸®: /surveyï¼ˆ/guest/survey â†’ /surveyï¼‰
â”‚       â””â”€â”€ page.tsx
â”‚
â””â”€â”€ api/                        # API Routesï¼ˆå°†æ¥å®Ÿè£…ï¼‰
    â””â”€â”€ ...
```

---

## ğŸ”‘ æ”¹å–„ãƒã‚¤ãƒ³ãƒˆ

### 1. **Route Groupsã®æ´»ç”¨**

#### `(auth)` - èªè¨¼é–¢é€£
- èªè¨¼ç”»é¢ã‚’é›†ç´„
- å…±é€šã®èªè¨¼ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

#### `(admin)` - ç®¡ç†ç”»é¢
- èªè¨¼å¿…é ˆã®ç®¡ç†ç”»é¢ã‚’é›†ç´„
- å…±é€šã®èªè¨¼ãƒã‚§ãƒƒã‚¯ãƒ»ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ `(admin)/layout.tsx` ã§å®Ÿè£…
- ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒ‰ãƒŸãƒ³ã¨ä¼šå ´ç®¡ç†è€…ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’åˆ†é›¢

#### `(guest)` - ã‚²ã‚¹ãƒˆç”»é¢
- å…¬é–‹ãƒšãƒ¼ã‚¸ã‚’é›†ç´„
- ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆèªè¨¼ä¸è¦ï¼‰
- URLã‚’çŸ­ç¸®ï¼ˆ`/guest/gallery` â†’ `/gallery`ï¼‰

### 2. **ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã®çµ±åˆ**

**Before**:
- `/` - ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒ‰ãƒŸãƒ³ç”¨
- `/venue/login` - ä¼šå ´ç®¡ç†è€…ç”¨

**After**:
- `/login` - çµ±åˆãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ï¼ˆãƒ­ãƒ¼ãƒ«é¸æŠï¼‰
- `/login/admin` - ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒ‰ãƒŸãƒ³å°‚ç”¨
- `/login/venue` - ä¼šå ´ç®¡ç†è€…å°‚ç”¨

### 3. **URLè¨­è¨ˆã®æœ€é©åŒ–**

**ã‚²ã‚¹ãƒˆç”¨URLã®çŸ­ç¸®**:
- `/guest/gallery` â†’ `/gallery` âœ…
- `/guest/survey` â†’ `/survey` âœ…
- `/guest` â†’ `/` âœ…ï¼ˆã‚²ã‚¹ãƒˆãƒãƒ¼ã‚¿ãƒ«ï¼‰

**ç†ç”±**: ã‚²ã‚¹ãƒˆã¯æœ€ã‚‚é »ç¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã€URLã‚’çŸ­ãã‚·ãƒ³ãƒ—ãƒ«ã«

### 4. **å†—é•·ãªãƒ•ã‚©ãƒ«ãƒ€ã®å‰Šé™¤**

- âŒ `app/gallery/` ã‚’å‰Šé™¤ï¼ˆãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆå°‚ç”¨ï¼‰
- âœ… `(guest)/gallery/` ã«çµ±åˆ

### 5. **ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆéšå±¤ã®æ˜ç¢ºåŒ–**

```
app/
â”œâ”€â”€ layout.tsx                          # ãƒ«ãƒ¼ãƒˆï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«ï¼‰
â”‚
â”œâ”€â”€ (admin)/
â”‚   â”œâ”€â”€ layout.tsx                      # ç®¡ç†ç”»é¢å…±é€šï¼ˆèªè¨¼ãƒã‚§ãƒƒã‚¯ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â””â”€â”€ layout.tsx                  # ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒ‰ãƒŸãƒ³å°‚ç”¨ï¼ˆã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼‰
â”‚   â”‚
â”‚   â””â”€â”€ dashboard/
â”‚       â””â”€â”€ [venueId]/
â”‚           â””â”€â”€ layout.tsx              # ä¼šå ´ç®¡ç†è€…å°‚ç”¨ï¼ˆã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼‰
â”‚
â””â”€â”€ (guest)/
    â””â”€â”€ layout.tsx                      # ã‚²ã‚¹ãƒˆç”¨ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ï¼‰
```

---

## ğŸ“‹ ç§»è¡Œæ‰‹é †

### Step 1: Route Groupsã®ä½œæˆ

```bash
# 1. èªè¨¼é–¢é€£ãƒ•ã‚©ãƒ«ãƒ€ã®ä½œæˆ
mkdir -p app/\(auth\)/login/admin
mkdir -p app/\(auth\)/login/venue

# 2. ç®¡ç†ç”»é¢ãƒ•ã‚©ãƒ«ãƒ€ã®ä½œæˆ
mkdir -p app/\(admin\)/admin
mkdir -p app/\(admin\)/dashboard

# 3. ã‚²ã‚¹ãƒˆç”»é¢ãƒ•ã‚©ãƒ«ãƒ€ã®ä½œæˆ
mkdir -p app/\(guest\)
```

### Step 2: ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã®çµ±åˆ

```bash
# app/page.tsx ã‚’ app/(auth)/login/admin/page.tsx ã«ç§»å‹•
mv app/page.tsx app/\(auth\)/login/admin/page.tsx

# app/venue/login/page.tsx ã‚’ app/(auth)/login/venue/page.tsx ã«ç§»å‹•
mv app/venue/login/page.tsx app/\(auth\)/login/venue/page.tsx

# çµ±åˆãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã‚’ä½œæˆ
# app/(auth)/login/page.tsx ã‚’æ–°è¦ä½œæˆï¼ˆãƒ­ãƒ¼ãƒ«é¸æŠç”»é¢ï¼‰
```

### Step 3: ç®¡ç†ç”»é¢ã®ç§»å‹•

```bash
# admin ãƒ•ã‚©ãƒ«ãƒ€ã‚’ç§»å‹•
mv app/admin app/\(admin\)/admin

# dashboard ãƒ•ã‚©ãƒ«ãƒ€ã‚’ç§»å‹•
mv app/dashboard app/\(admin\)/dashboard
```

### Step 4: ã‚²ã‚¹ãƒˆç”»é¢ã®ç§»å‹•ã¨URLçŸ­ç¸®

```bash
# guest ãƒ•ã‚©ãƒ«ãƒ€ã‚’ç§»å‹•
mv app/guest app/\(guest\)

# gallery ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ï¼ˆãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆä¸è¦ï¼‰
rm -rf app/gallery

# guest/page.tsx ã‚’ (guest)/page.tsx ã«ç§»å‹•ï¼ˆæ—¢ã«ç§»å‹•æ¸ˆã¿ï¼‰
# guest/gallery/page.tsx ã‚’ (guest)/gallery/page.tsx ã«ç§»å‹•ï¼ˆæ—¢ã«ç§»å‹•æ¸ˆã¿ï¼‰
# guest/survey/page.tsx ã‚’ (guest)/survey/page.tsx ã«ç§»å‹•ï¼ˆæ—¢ã«ç§»å‹•æ¸ˆã¿ï¼‰
```

### Step 5: ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆãƒ»æ›´æ–°

#### `app/(admin)/layout.tsx` ã‚’ä½œæˆ
```typescript
import { ReactNode } from 'react';
import { redirect } from 'next/navigation';

export default function AdminLayout({ children }: { children: ReactNode }) {
  // TODO: èªè¨¼ãƒã‚§ãƒƒã‚¯
  // const session = await getSession();
  // if (!session) redirect('/login');
  
  return (
    <div className="min-h-screen bg-slate-50">
      {/* å…±é€šãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰ */}
      {children}
    </div>
  );
}
```

#### `app/(guest)/layout.tsx` ã‚’ä½œæˆ
```typescript
import { ReactNode } from 'react';

export default function GuestLayout({ children }: { children: ReactNode }) {
  return (
    <div className="min-h-screen bg-stone-50">
      {/* ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆèªè¨¼ä¸è¦ï¼‰ */}
      {children}
    </div>
  );
}
```

### Step 6: ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã®æ›´æ–°

#### `app/(admin)/dashboard/page.tsx` ã‚’æ›´æ–°
```typescript
// Before: router.replace('/venue/login')
// After: router.replace('/login/venue')
```

#### å†…éƒ¨ãƒªãƒ³ã‚¯ã®æ›´æ–°
- `/guest/gallery` â†’ `/gallery`
- `/guest/survey` â†’ `/survey`
- `/venue/login` â†’ `/login/venue`
- `/admin` ã¸ã®é·ç§»ã¯ `/login/admin` ã‹ã‚‰

### Step 7: ä¸è¦ãªãƒ•ã‚©ãƒ«ãƒ€ã®å‰Šé™¤

```bash
# ä¸è¦ã«ãªã£ãŸãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤
rm -rf app/venue
```

---

## ğŸ¨ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆéšå±¤ã®è©³ç´°è¨­è¨ˆ

### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®ç¶™æ‰¿é–¢ä¿‚

```
RootLayout (app/layout.tsx)
â”œâ”€â”€ ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ Toaster
â””â”€â”€ ãƒ•ã‚©ãƒ³ãƒˆè¨­å®š
    â”‚
    â”œâ”€â”€ AdminLayout (app/(admin)/layout.tsx)
    â”‚   â”œâ”€â”€ èªè¨¼ãƒã‚§ãƒƒã‚¯
    â”‚   â”œâ”€â”€ å…±é€šãƒ˜ãƒƒãƒ€ãƒ¼
    â”‚   â”‚
    â”‚   â”œâ”€â”€ SuperAdminLayout (app/(admin)/admin/layout.tsx)
    â”‚   â”‚   â””â”€â”€ ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒ‰ãƒŸãƒ³ç”¨ã‚µã‚¤ãƒ‰ãƒãƒ¼
    â”‚   â”‚
    â”‚   â””â”€â”€ VenueAdminLayout (app/(admin)/dashboard/[venueId]/layout.tsx)
    â”‚       â””â”€â”€ ä¼šå ´ç®¡ç†è€…ç”¨ã‚µã‚¤ãƒ‰ãƒãƒ¼
    â”‚
    â””â”€â”€ GuestLayout (app/(guest)/layout.tsx)
        â””â”€â”€ ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆèªè¨¼ä¸è¦ï¼‰
```

---

## ğŸ”„ URLãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆBefore â†’ Afterï¼‰

| Before | After | èª¬æ˜ |
|--------|-------|------|
| `/` | `/login/admin` | ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒ‰ãƒŸãƒ³ç”¨ãƒ­ã‚°ã‚¤ãƒ³ |
| `/venue/login` | `/login/venue` | ä¼šå ´ç®¡ç†è€…ç”¨ãƒ­ã‚°ã‚¤ãƒ³ |
| `/admin` | `/admin` | ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒ‰ãƒŸãƒ³ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆå¤‰æ›´ãªã—ï¼‰ |
| `/dashboard/[venueId]` | `/dashboard/[venueId]` | ä¼šå ´ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆå¤‰æ›´ãªã—ï¼‰ |
| `/guest` | `/` | ã‚²ã‚¹ãƒˆãƒãƒ¼ã‚¿ãƒ«ï¼ˆçŸ­ç¸®ï¼‰ |
| `/guest/gallery` | `/gallery` | å†™çœŸã‚®ãƒ£ãƒ©ãƒªãƒ¼ï¼ˆçŸ­ç¸®ï¼‰ |
| `/guest/survey` | `/survey` | ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆï¼ˆçŸ­ç¸®ï¼‰ |
| `/gallery` | `/gallery` | ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆå‰Šé™¤ã€ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ |

---

## âœ… æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

### 1. **ä¿å®ˆæ€§ã®å‘ä¸Š**
- Route Groupsã«ã‚ˆã‚Šã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®è²¬å‹™ãŒæ˜ç¢ºåŒ–
- èªè¨¼ãƒã‚§ãƒƒã‚¯ã‚’ `(admin)/layout.tsx` ã§ä¸€å…ƒç®¡ç†

### 2. **URLè¨­è¨ˆã®æ”¹å–„**
- ã‚²ã‚¹ãƒˆç”¨URLãŒçŸ­ãã‚·ãƒ³ãƒ—ãƒ«ã«
- èªè¨¼ãƒ«ãƒ¼ãƒˆãŒç›´æ„Ÿçš„ã«ï¼ˆ`/login/*`ï¼‰

### 3. **ã‚³ãƒ¼ãƒ‰ã®æ•´ç†**
- å†—é•·ãªãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤
- ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã‚’é›†ç´„

### 4. **Next.js 15ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹æº–æ‹ **
- Route Groupsã‚’æ´»ç”¨
- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆéšå±¤ã®æ˜ç¢ºåŒ–

### 5. **å°†æ¥ã®æ‹¡å¼µæ€§**
- æ–°ã—ã„èªè¨¼æ–¹å¼ã®è¿½åŠ ãŒå®¹æ˜“
- æ–°ã—ã„ç®¡ç†ç”»é¢ã®è¿½åŠ ãŒå®¹æ˜“

---

## âš ï¸ æ³¨æ„äº‹é …

### 1. **æ—¢å­˜ã®ãƒªãƒ³ã‚¯ãƒ»ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã®æ›´æ–°**
- å†…éƒ¨ãƒªãƒ³ã‚¯ã®URLã‚’ã™ã¹ã¦æ›´æ–°
- å¤–éƒ¨ã‹ã‚‰ã®ãƒªãƒ³ã‚¯ï¼ˆQRã‚³ãƒ¼ãƒ‰ãªã©ï¼‰ã‚‚æ›´æ–°ãŒå¿…è¦

### 2. **èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®æ›´æ–°**
- `middleware.ts` ã®ãƒ«ãƒ¼ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ›´æ–°
- `/login/*` ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã‚’è¿½åŠ 

### 3. **ãƒ†ã‚¹ãƒˆã®æ›´æ–°**
- E2Eãƒ†ã‚¹ãƒˆã®URLã‚’æ›´æ–°
- ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã®ãƒ†ã‚¹ãƒˆã‚’æ›´æ–°

### 4. **æ®µéšçš„ãªç§»è¡Œ**
- ä¸€åº¦ã«ã™ã¹ã¦ã‚’å¤‰æ›´ã›ãšã€æ®µéšçš„ã«ç§»è¡Œ
- æ—§URLã¸ã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã‚’ä¸€æ™‚çš„ã«æ®‹ã™ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

---

## ğŸ“ å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] Route Groupsãƒ•ã‚©ãƒ«ãƒ€ã®ä½œæˆ
- [ ] ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã®çµ±åˆãƒ»ç§»å‹•
- [ ] ç®¡ç†ç”»é¢ã®ç§»å‹•
- [ ] ã‚²ã‚¹ãƒˆç”»é¢ã®ç§»å‹•ãƒ»URLçŸ­ç¸®
- [ ] å†—é•·ãªãƒ•ã‚©ãƒ«ãƒ€ã®å‰Šé™¤
- [ ] ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆãƒ»æ›´æ–°
- [ ] å†…éƒ¨ãƒªãƒ³ã‚¯ã®æ›´æ–°
- [ ] ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã®æ›´æ–°
- [ ] ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®æ›´æ–°
- [ ] ãƒ†ã‚¹ãƒˆã®æ›´æ–°
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ›´æ–°

---

**ä½œæˆæ—¥**: 2024å¹´1æœˆ  
**Next.js ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 15.1.0
