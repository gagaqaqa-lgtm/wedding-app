# Next.js App Router æ§‹é€ æ”¹å–„æ¡ˆ

## ğŸ“‹ ç¾çŠ¶åˆ†æ

### ç™ºè¦‹ã•ã‚ŒãŸå•é¡Œç‚¹

#### 1. **ç®¡ç†ç”»é¢ãƒ­ã‚°ã‚¤ãƒ³ã®é…ç½®ãŒä¸è‡ªç„¶**
- âŒ `/venue/login` - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¨é–¢ä¿‚æ€§ãŒä¸æ˜ç¢º
- âŒ `/dashboard` ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ `/venue/login` ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆï¼ˆé–¢ä¿‚æ€§ãŒåˆ†ã‹ã‚Šã«ãã„ï¼‰
- âŒ ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«ã‚µã‚¤ãƒ‰ãƒãƒ¼ãŒé©ç”¨ã•ã‚Œãªã„ã‚ˆã†ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆåˆ†é›¢ãŒå¿…è¦

#### 2. **ã‚²ã‚¹ãƒˆç”»é¢ã®ãƒ•ã‚©ãƒ«ãƒ€é †åºãŒãƒ•ãƒ­ãƒ¼ã¨ä¸ä¸€è‡´**
- âš ï¸ ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆé †: `gallery` â†’ `page.tsx` â†’ `survey`
- âš ï¸ å®Ÿéš›ã®ãƒ•ãƒ­ãƒ¼: `page.tsx` (ã‚¨ãƒ³ãƒˆãƒªãƒ¼) â†’ `survey` (ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°) â†’ `gallery` (ãƒ¡ã‚¤ãƒ³)
- âš ï¸ ã‚³ãƒ¼ãƒ‰ã‚’è¿½ã†éš›ã«ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®é †åºãŒåˆ†ã‹ã‚Šã«ãã„

---

## ğŸ¯ æ”¹å–„æ¡ˆ

### Beforeï¼ˆç¾çŠ¶ï¼‰

```
app/
â”œâ”€â”€ page.tsx                    # ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒ‰ãƒŸãƒ³ç”¨ãƒ­ã‚°ã‚¤ãƒ³ï¼ˆ/ï¼‰
â”œâ”€â”€ layout.tsx                  # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”œâ”€â”€ globals.css
â”‚
â”œâ”€â”€ admin/                      # ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒ‰ãƒŸãƒ³
â”‚   â”œâ”€â”€ layout.tsx              # æœ€å°é™ã®å®Ÿè£…
â”‚   â””â”€â”€ page.tsx                # /admin
â”‚
â”œâ”€â”€ dashboard/                  # ä¼šå ´ç®¡ç†è€…
â”‚   â”œâ”€â”€ layout.tsx              # ç©ºå®Ÿè£…ï¼ˆ<>{children}</>ï¼‰
â”‚   â”œâ”€â”€ page.tsx                # /dashboard â†’ /venue/login ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
â”‚   â”‚
â”‚   â”œâ”€â”€ [venueId]/              # ä¼šå ´åˆ¥ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ layout.tsx          # ã‚µã‚¤ãƒ‰ãƒãƒ¼ä»˜ããƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”œâ”€â”€ page.tsx            # /dashboard/[venueId]
â”‚   â”‚   â”œâ”€â”€ weddings/
â”‚   â”‚   â”œâ”€â”€ venues/
â”‚   â”‚   â”œâ”€â”€ accounts/
â”‚   â”‚   â”œâ”€â”€ notifications/
â”‚   â”‚   â””â”€â”€ settings/
â”‚   â”‚
â”‚   â””â”€â”€ [ãã®ä»–ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ«ãƒ¼ãƒˆ]
â”‚
â”œâ”€â”€ guest/                      # ã‚²ã‚¹ãƒˆç”»é¢
â”‚   â”œâ”€â”€ page.tsx                # /guestï¼ˆã‚¨ãƒ³ãƒˆãƒªãƒ¼ï¼‰
â”‚   â”œâ”€â”€ gallery/                # âš ï¸ ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆé †ã§å…ˆã«æ¥ã‚‹
â”‚   â”‚   â””â”€â”€ page.tsx            # /guest/gallery
â”‚   â””â”€â”€ survey/                 # âš ï¸ ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆé †ã§å¾Œã«æ¥ã‚‹
â”‚       â””â”€â”€ page.tsx            # /guest/survey
â”‚
â””â”€â”€ venue/                      # âŒ ä¸è‡ªç„¶ãªãƒ‘ã‚¹
    â””â”€â”€ login/
        â””â”€â”€ page.tsx            # /venue/login
```

### Afterï¼ˆæ”¹å–„æ¡ˆï¼‰

```
app/
â”œâ”€â”€ layout.tsx                  # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«ã€Toasterï¼‰
â”œâ”€â”€ globals.css
â”‚
â”œâ”€â”€ page.tsx                    # ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒ‰ãƒŸãƒ³ç”¨ãƒ­ã‚°ã‚¤ãƒ³ï¼ˆ/ï¼‰â€»å¤‰æ›´ãªã—
â”‚
â”œâ”€â”€ admin/                      # ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒ‰ãƒŸãƒ³ï¼ˆå¤‰æ›´ãªã—ï¼‰
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â””â”€â”€ page.tsx                # /admin
â”‚
â”œâ”€â”€ (dashboard)/                # ğŸ”¥ Route Group: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰é–¢é€£
â”‚   â”œâ”€â”€ layout.tsx              # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆèªè¨¼ãƒã‚§ãƒƒã‚¯ç­‰ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ dashboard/              # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æœ¬ä½“
â”‚   â”‚   â”œâ”€â”€ (auth)/             # ğŸ”¥ Route Group: èªè¨¼é–¢é€£ï¼ˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆé™¤å¤–ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ login/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx    # âœ… /dashboard/loginï¼ˆãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã€ã‚µã‚¤ãƒ‰ãƒãƒ¼ãªã—ï¼‰
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ (main)/             # ğŸ”¥ Route Group: ãƒ¡ã‚¤ãƒ³æ©Ÿèƒ½ï¼ˆã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚ã‚Šï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ [venueId]/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx  # ã‚µã‚¤ãƒ‰ãƒãƒ¼ä»˜ããƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx    # /dashboard/[venueId]
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ weddings/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ venues/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ accounts/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ notifications/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ settings/
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx        # /dashboardï¼ˆä¼šå ´é¸æŠã¾ãŸã¯ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆï¼‰
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ [ãã®ä»–ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ«ãƒ¼ãƒˆ]ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
â”‚   â”‚
â”‚   â””â”€â”€ [ãã®ä»–ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰é–¢é€£ãƒ«ãƒ¼ãƒˆ]ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
â”‚
â”œâ”€â”€ (guest)/                    # ğŸ”¥ Route Group: ã‚²ã‚¹ãƒˆç”»é¢
â”‚   â”œâ”€â”€ layout.tsx              # ã‚²ã‚¹ãƒˆç”¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆã‚·ãƒ³ãƒ—ãƒ«ã€èªè¨¼ä¸è¦ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ guest/                  # ã‚²ã‚¹ãƒˆç”»é¢æœ¬ä½“
â”‚   â”‚   â”œâ”€â”€ (entry)/            # ğŸ”¥ Route Group: ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒ•ã‚§ãƒ¼ã‚º
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx        # /guestï¼ˆãƒ‘ã‚¹ã‚³ãƒ¼ãƒ‰å…¥åŠ›ï¼‰
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ (onboarding)/       # ğŸ”¥ Route Group: ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ•ã‚§ãƒ¼ã‚º
â”‚   â”‚   â”‚   â””â”€â”€ survey/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx    # /guest/surveyï¼ˆã‚¢ãƒ³ã‚±ãƒ¼ãƒˆï¼‰
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ (main)/             # ğŸ”¥ Route Group: ãƒ¡ã‚¤ãƒ³ãƒ•ã‚§ãƒ¼ã‚º
â”‚   â”‚       â””â”€â”€ gallery/
â”‚   â”‚           â””â”€â”€ page.tsx    # /guest/galleryï¼ˆå†™çœŸã‚®ãƒ£ãƒ©ãƒªãƒ¼ï¼‰
â”‚   â”‚
â”‚   â””â”€â”€ [ãã®ä»–ã®ã‚²ã‚¹ãƒˆé–¢é€£ãƒ«ãƒ¼ãƒˆ]ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
â”‚
â””â”€â”€ gallery/                    # âŒ å‰Šé™¤ï¼ˆãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆå°‚ç”¨ãƒ•ã‚©ãƒ«ãƒ€ï¼‰
    â””â”€â”€ page.tsx                # /guest/gallery ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
```

---

## ğŸ”‘ æ”¹å–„ãƒã‚¤ãƒ³ãƒˆ

### 1. **ç®¡ç†ç”»é¢ãƒ­ã‚°ã‚¤ãƒ³ã®é…ç½®æ”¹å–„**

#### Route Groupsã«ã‚ˆã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆåˆ†é›¢

```
(dashboard)/
â”œâ”€â”€ layout.tsx                  # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰å…±é€šï¼ˆèªè¨¼ãƒã‚§ãƒƒã‚¯ç­‰ï¼‰
â”‚
â””â”€â”€ dashboard/
    â”œâ”€â”€ (auth)/                 # èªè¨¼é–¢é€£ï¼ˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆé™¤å¤–ï¼‰
    â”‚   â””â”€â”€ login/
    â”‚       â””â”€â”€ page.tsx        # /dashboard/loginï¼ˆã‚µã‚¤ãƒ‰ãƒãƒ¼ãªã—ï¼‰
    â”‚
    â””â”€â”€ (main)/                 # ãƒ¡ã‚¤ãƒ³æ©Ÿèƒ½ï¼ˆã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚ã‚Šï¼‰
        â””â”€â”€ [venueId]/
            â””â”€â”€ layout.tsx      # ã‚µã‚¤ãƒ‰ãƒãƒ¼ä»˜ããƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
```

**åŠ¹æœ**:
- âœ… `/dashboard/login` ã§ç›´æ„Ÿçš„ãªURL
- âœ… ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«ã¯ã‚µã‚¤ãƒ‰ãƒãƒ¼ãŒé©ç”¨ã•ã‚Œãªã„ï¼ˆRoute Groupsã§åˆ†é›¢ï¼‰
- âœ… ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¨ã®é–¢ä¿‚æ€§ãŒæ˜ç¢º

### 2. **ã‚²ã‚¹ãƒˆç”»é¢ã®ãƒ•ãƒ­ãƒ¼æ•´ç†**

#### Route Groupsã«ã‚ˆã‚‹ãƒ•ã‚§ãƒ¼ã‚ºåˆ†é›¢

```
(guest)/
â””â”€â”€ guest/
    â”œâ”€â”€ (entry)/                # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒ•ã‚§ãƒ¼ã‚º
    â”‚   â””â”€â”€ page.tsx            # /guestï¼ˆãƒ‘ã‚¹ã‚³ãƒ¼ãƒ‰å…¥åŠ›ï¼‰
    â”‚
    â”œâ”€â”€ (onboarding)/          # ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ•ã‚§ãƒ¼ã‚º
    â”‚   â””â”€â”€ survey/
    â”‚       â””â”€â”€ page.tsx        # /guest/surveyï¼ˆã‚¢ãƒ³ã‚±ãƒ¼ãƒˆï¼‰
    â”‚
    â””â”€â”€ (main)/                 # ãƒ¡ã‚¤ãƒ³ãƒ•ã‚§ãƒ¼ã‚º
        â””â”€â”€ gallery/
            â””â”€â”€ page.tsx        # /guest/galleryï¼ˆå†™çœŸã‚®ãƒ£ãƒ©ãƒªãƒ¼ï¼‰
```

**åŠ¹æœ**:
- âœ… ãƒ•ã‚©ãƒ«ãƒ€é †åºãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®ãƒ•ã‚§ãƒ¼ã‚ºé †ã«ä¸€è‡´
- âœ… URLã¯å¤‰æ›´ãªã—ï¼ˆ`/guest`, `/guest/survey`, `/guest/gallery`ï¼‰
- âœ… ã‚³ãƒ¼ãƒ‰ã‚’è¿½ã†éš›ã«ã€ãƒ•ãƒ­ãƒ¼ãŒç›´æ„Ÿçš„ã«ç†è§£ã§ãã‚‹

---

## ğŸ“Š URLãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆå¤‰æ›´ãªã—ï¼‰

| ç¾çŠ¶ | æ”¹å–„å¾Œ | èª¬æ˜ |
|------|--------|------|
| `/` | `/` | ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒ‰ãƒŸãƒ³ç”¨ãƒ­ã‚°ã‚¤ãƒ³ï¼ˆå¤‰æ›´ãªã—ï¼‰ |
| `/admin` | `/admin` | ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¢ãƒ‰ãƒŸãƒ³ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆå¤‰æ›´ãªã—ï¼‰ |
| `/venue/login` | `/dashboard/login` | âœ… æ”¹å–„: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«é–¢é€£ã™ã‚‹URLã« |
| `/dashboard` | `/dashboard` | ä¼šå ´é¸æŠã¾ãŸã¯ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆï¼ˆå¤‰æ›´ãªã—ï¼‰ |
| `/dashboard/[venueId]` | `/dashboard/[venueId]` | ä¼šå ´ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆå¤‰æ›´ãªã—ï¼‰ |
| `/guest` | `/guest` | ã‚²ã‚¹ãƒˆãƒãƒ¼ã‚¿ãƒ«ï¼ˆå¤‰æ›´ãªã—ï¼‰ |
| `/guest/survey` | `/guest/survey` | ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆï¼ˆå¤‰æ›´ãªã—ï¼‰ |
| `/guest/gallery` | `/guest/gallery` | å†™çœŸã‚®ãƒ£ãƒ©ãƒªãƒ¼ï¼ˆå¤‰æ›´ãªã—ï¼‰ |

---

## ğŸ—ï¸ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆéšå±¤ã®è©³ç´°è¨­è¨ˆ

### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®ç¶™æ‰¿é–¢ä¿‚

```
RootLayout (app/layout.tsx)
â”œâ”€â”€ ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ Toaster
â””â”€â”€ ãƒ•ã‚©ãƒ³ãƒˆè¨­å®š
    â”‚
    â”œâ”€â”€ DashboardGroupLayout (app/(dashboard)/layout.tsx)
    â”‚   â”œâ”€â”€ èªè¨¼ãƒã‚§ãƒƒã‚¯ï¼ˆå°†æ¥å®Ÿè£…ï¼‰
    â”‚   â”œâ”€â”€ å…±é€šãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
    â”‚   â”‚
    â”‚   â””â”€â”€ DashboardAuthLayout (app/(dashboard)/dashboard/(auth)/)
    â”‚       â””â”€â”€ ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ï¼ˆã‚µã‚¤ãƒ‰ãƒãƒ¼ãªã—ã€ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰
    â”‚   â”‚
    â”‚   â””â”€â”€ DashboardMainLayout (app/(dashboard)/dashboard/(main)/[venueId]/layout.tsx)
    â”‚       â””â”€â”€ ã‚µã‚¤ãƒ‰ãƒãƒ¼ä»˜ããƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
    â”‚
    â””â”€â”€ GuestLayout (app/(guest)/layout.tsx)
        â””â”€â”€ ã‚²ã‚¹ãƒˆç”¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆã‚·ãƒ³ãƒ—ãƒ«ã€èªè¨¼ä¸è¦ï¼‰
```

---

## ğŸ“ å®Ÿè£…æ‰‹é †

### Step 1: Route Groupsãƒ•ã‚©ãƒ«ãƒ€ã®ä½œæˆ

```bash
# ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰é–¢é€£ã®Route Groupä½œæˆ
mkdir -p app/\(dashboard\)/dashboard/\(auth\)/login
mkdir -p app/\(dashboard\)/dashboard/\(main\)

# ã‚²ã‚¹ãƒˆé–¢é€£ã®Route Groupä½œæˆ
mkdir -p app/\(guest\)/guest/\(entry\)
mkdir -p app/\(guest\)/guest/\(onboarding\)/survey
mkdir -p app/\(guest\)/guest/\(main\)/gallery
```

### Step 2: ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã®ç§»å‹•

```bash
# /venue/login ã‚’ /dashboard/login ã«ç§»å‹•
mv app/venue/login/page.tsx app/\(dashboard\)/dashboard/\(auth\)/login/page.tsx

# ä¸è¦ã«ãªã£ãŸãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤
rm -rf app/venue
```

### Step 3: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æœ¬ä½“ã®ç§»å‹•

```bash
# [venueId] ãƒ•ã‚©ãƒ«ãƒ€ã‚’ (main) é…ä¸‹ã«ç§»å‹•
mv app/dashboard/\[venueId\] app/\(dashboard\)/dashboard/\(main\)/\[venueId\]

# dashboard/page.tsx ã‚’ (main) é…ä¸‹ã«ç§»å‹•
mv app/dashboard/page.tsx app/\(dashboard\)/dashboard/\(main\)/page.tsx

# ãã®ä»–ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ«ãƒ¼ãƒˆã‚‚ (main) é…ä¸‹ã«ç§»å‹•ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
# mv app/dashboard/weddings app/\(dashboard\)/dashboard/\(main\)/weddings
# mv app/dashboard/venues app/\(dashboard\)/dashboard/\(main\)/venues
# ...
```

### Step 4: ã‚²ã‚¹ãƒˆç”»é¢ã®ç§»å‹•

```bash
# guest/page.tsx ã‚’ (entry) é…ä¸‹ã«ç§»å‹•
mv app/guest/page.tsx app/\(guest\)/guest/\(entry\)/page.tsx

# guest/survey ã‚’ (onboarding) é…ä¸‹ã«ç§»å‹•
mv app/guest/survey app/\(guest\)/guest/\(onboarding\)/survey

# guest/gallery ã‚’ (main) é…ä¸‹ã«ç§»å‹•
mv app/guest/gallery app/\(guest\)/guest/\(main\)/gallery
```

### Step 5: ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆãƒ»æ›´æ–°

#### `app/(dashboard)/layout.tsx` ã‚’ä½œæˆ
```typescript
import { ReactNode } from 'react';
// import { redirect } from 'next/navigation';

export default function DashboardGroupLayout({ children }: { children: ReactNode }) {
  // TODO: èªè¨¼ãƒã‚§ãƒƒã‚¯ï¼ˆå°†æ¥å®Ÿè£…ï¼‰
  // const session = await getSession();
  // if (!session) redirect('/dashboard/login');
  
  return <>{children}</>;
}
```

#### `app/(dashboard)/dashboard/(main)/[venueId]/layout.tsx` ã‚’æ›´æ–°
```typescript
// æ—¢å­˜ã® app/dashboard/[venueId]/layout.tsx ã‚’ãã®ã¾ã¾ä½¿ç”¨
// ãƒ‘ã‚¹ã®ã¿å¤‰æ›´ï¼ˆå†…å®¹ã¯å¤‰æ›´ãªã—ï¼‰
```

#### `app/(guest)/layout.tsx` ã‚’ä½œæˆ
```typescript
import { ReactNode } from 'react';

export default function GuestLayout({ children }: { children: ReactNode }) {
  return (
    <div className="min-h-screen bg-stone-50">
      {/* ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆèªè¨¼ä¸è¦ï¼‰ */}
      {children}
    </div>
  );
}
```

### Step 6: ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã¨ãƒªãƒ³ã‚¯ã®æ›´æ–°

#### `app/(dashboard)/dashboard/(main)/page.tsx` ã‚’æ›´æ–°
```typescript
// Before: router.replace('/venue/login')
// After: router.replace('/dashboard/login')
```

#### `app/venue/login/page.tsx` ã®é·ç§»å…ˆã‚’æ›´æ–°ï¼ˆç§»å‹•å‰ï¼‰
```typescript
// Before: router.push(`/dashboard/${venueId}`)
// After: router.push(`/dashboard/${venueId}`) // å¤‰æ›´ãªã—ï¼ˆURLã¯åŒã˜ï¼‰
```

### Step 7: ä¸è¦ãªãƒ•ã‚©ãƒ«ãƒ€ã®å‰Šé™¤

```bash
# ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆå°‚ç”¨ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
# rm -rf app/gallery

# ä¸è¦ã«ãªã£ãŸãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤
rm -rf app/venue
rm -rf app/dashboard/layout.tsx  # ç©ºå®Ÿè£…ã®ãŸã‚å‰Šé™¤
```

---

## âœ… æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

### 1. **ç›´æ„Ÿçš„ãªURLè¨­è¨ˆ**
- `/dashboard/login` ã§ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¨ã®é–¢ä¿‚æ€§ãŒæ˜ç¢º
- ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ãŒãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰é…ä¸‹ã«é…ç½®ã•ã‚Œã‚‹

### 2. **ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®è²¬å‹™åˆ†é›¢**
- Route Groupsã«ã‚ˆã‚Šã€ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«ã‚µã‚¤ãƒ‰ãƒãƒ¼ãŒé©ç”¨ã•ã‚Œãªã„
- å„ãƒ•ã‚§ãƒ¼ã‚ºã«é©ã—ãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’é©ç”¨å¯èƒ½

### 3. **é–‹ç™ºè€…ä½“é¨“ï¼ˆDXï¼‰ã®å‘ä¸Š**
- ã‚²ã‚¹ãƒˆç”»é¢ã®ãƒ•ã‚©ãƒ«ãƒ€é †åºãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®ãƒ•ã‚§ãƒ¼ã‚ºé †ã«ä¸€è‡´
- ã‚³ãƒ¼ãƒ‰ã‚’è¿½ã†éš›ã«ã€ãƒ•ãƒ­ãƒ¼ãŒç›´æ„Ÿçš„ã«ç†è§£ã§ãã‚‹

### 4. **ä¿å®ˆæ€§ã®å‘ä¸Š**
- Route Groupsã«ã‚ˆã‚Šã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®è²¬å‹™ãŒæ˜ç¢ºåŒ–
- èªè¨¼ãƒã‚§ãƒƒã‚¯ã‚’ `(dashboard)/layout.tsx` ã§ä¸€å…ƒç®¡ç†å¯èƒ½

---

## âš ï¸ æ³¨æ„äº‹é …

### 1. **æ—¢å­˜ã®ãƒªãƒ³ã‚¯ãƒ»ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã®æ›´æ–°**
- `/venue/login` â†’ `/dashboard/login` ã¸ã®å¤‰æ›´
- å†…éƒ¨ãƒªãƒ³ã‚¯ã®URLã‚’ã™ã¹ã¦æ›´æ–°
- å¤–éƒ¨ã‹ã‚‰ã®ãƒªãƒ³ã‚¯ï¼ˆQRã‚³ãƒ¼ãƒ‰ãªã©ï¼‰ã‚‚æ›´æ–°ãŒå¿…è¦

### 2. **æ®µéšçš„ãªç§»è¡Œ**
- ä¸€åº¦ã«ã™ã¹ã¦ã‚’å¤‰æ›´ã›ãšã€æ®µéšçš„ã«ç§»è¡Œ
- æ—§URLã¸ã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã‚’ä¸€æ™‚çš„ã«æ®‹ã™ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

### 3. **ãƒ†ã‚¹ãƒˆã®æ›´æ–°**
- E2Eãƒ†ã‚¹ãƒˆã®URLã‚’æ›´æ–°
- ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã®ãƒ†ã‚¹ãƒˆã‚’æ›´æ–°

---

## ğŸ“‹ å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] Route Groupsãƒ•ã‚©ãƒ«ãƒ€ã®ä½œæˆ
- [ ] ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã®ç§»å‹•ï¼ˆ`/venue/login` â†’ `/dashboard/login`ï¼‰
- [ ] ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æœ¬ä½“ã®ç§»å‹•
- [ ] ã‚²ã‚¹ãƒˆç”»é¢ã®ç§»å‹•ï¼ˆãƒ•ã‚§ãƒ¼ã‚ºé †ã«æ•´ç†ï¼‰
- [ ] ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆãƒ»æ›´æ–°
- [ ] ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã®æ›´æ–°ï¼ˆ`/dashboard` â†’ `/dashboard/login`ï¼‰
- [ ] å†…éƒ¨ãƒªãƒ³ã‚¯ã®æ›´æ–°ï¼ˆ`/venue/login` â†’ `/dashboard/login`ï¼‰
- [ ] ä¸è¦ãªãƒ•ã‚©ãƒ«ãƒ€ã®å‰Šé™¤
- [ ] ãƒ†ã‚¹ãƒˆã®æ›´æ–°
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ›´æ–°

---

**ä½œæˆæ—¥**: 2024å¹´1æœˆ  
**Next.js ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 15.1.0
